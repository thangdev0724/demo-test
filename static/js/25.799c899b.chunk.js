"use strict";(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[25],{2451:(e,a,t)=>{t.d(a,{JZ:()=>o,OM:()=>l,Vs:()=>n,ax:()=>s,ge:()=>i});var r=t(8199);function s(){return(0,r.iq)({url:"/public/departments"})}function n(){return(0,r.iq)({url:"/public/locations"})}function l(){return(0,r.iq)({url:"/public/experiences"})}function i(){return(0,r.iq)({url:"/public/candidate-statuses"})}function o(){return(0,r.iq)({url:"/public/working-times"})}},7626:(e,a,t)=>{t.d(a,{Nc:()=>c,XX:()=>i,YQ:()=>o,_S:()=>s,iN:()=>n,lh:()=>l});var r=t(8199);function s(e){return(0,r.MB)({url:"/admin/jobs",payload:e})}function n(e){return(0,r.iq)({url:"/admin/jobs",params:e})}function l(e,a){return(0,r.zi)({url:"/admin/jobs/".concat(e),payload:a})}function i(e){return(0,r.Fb)({url:"/admin/jobs/".concat(e)})}function o(e){return(0,r.iq)({url:"/admin/jobs/".concat(e)})}function c(e,a){return(0,r.AW)({url:"/admin/jobs/".concat(e),payload:{status:a}})}},8199:(e,a,t)=>{t.d(a,{Fb:()=>x,iq:()=>u,AW:()=>h,MB:()=>p,zi:()=>b});var r=t(7154),s=t(9613),n=t.n(s),l=t(3097),i=t.n(l),o=t(3820),c=t(8210);const d=r.A.create({headers:{Accept:"application/json","Content-Type":"application/json"},baseURL:c.N,timeout:2e4,validateStatus:function(e){return e>=200&&e<300}});d.interceptors.request.use((e=>{const a=(0,o.Ri)(c.$.Token);return a?(n()(e,"headers.Authorization","Bearer ".concat(a)),e):e}),(e=>{console.log("\ud83d\ude80 ~ axiosInstance.interceptors.request.use ~ _error:",e);return Promise.reject({status:null,message:null,errors:null})})),d.interceptors.response.use((e=>e&&e.data?e.data:e),(e=>{var a;if(401===(null===(a=e.response)||void 0===a?void 0:a.status))return Promise.reject(e);const t={status:i()(e,"response.status",null),message:i()(e,"response.data.message",null),errors:i()(e,"response.data.errors",null)};return Promise.reject(t)}));const m=d,u=e=>{const{url:a,params:t,headers:r}=e;return m.get(a,{params:t,headers:r})},p=e=>{const{url:a,params:t,headers:r,payload:s}=e;return m.post(a,s,{params:t,headers:r})},b=e=>{const{url:a,params:t,headers:r,payload:s}=e;return m.put(a,s,{params:t,headers:r})},h=e=>{const{url:a,params:t,headers:r,payload:s}=e;return m.patch(a,s,{params:t,headers:r})},x=e=>{const{url:a,params:t,headers:r}=e;return m.delete(a,{params:t,headers:r})}},5240:(e,a,t)=>{t.d(a,{A:()=>y});var r=t(5615),s=t(7893),n=t(9800),l=t(1645),i=t(5589),o=t(2425),c=t(12),d=t(6399),m=t(7021),u=t(2451),p=t(446),b=t.n(p),h=t(8988),x=t.n(h),j=t(5043),f=t(4117),A=t(3216),g=t(579);b().extend(x());const y=function(e){const{t:a}=(0,f.Bd)(),t=(0,A.Zp)(),[p]=s.A.useForm(),h="YYYY-MM-DD",{item:x,onSubmit:y,textButton:w,isProcess:v}=e,[k,N]=(0,j.useState)([]),[D,q]=(0,j.useState)({department:[],workingTime:[],yearOfExperience:[],location:[]});function T(e){return e.map((e=>({label:e,value:e})))}async function I(){await async function(){try{const e=await(0,u.ax)();if(e&&e.data){const a=T(e.data);q((e=>({...e,department:a})))}}catch(e){q((e=>({...e,department:[]})))}}(),await async function(){try{const e=await(0,u.Vs)();if(e&&e.data){const a=T(e.data);q((e=>({...e,location:a})))}}catch(e){q((e=>({...e,location:[]})))}}(),await async function(){try{const e=await(0,u.JZ)();if(e&&e.data){const a=T(e.data);q((e=>({...e,workingTime:a})))}}catch(e){q((e=>({...e,workingTime:[]})))}}(),await async function(){try{const e=await(0,u.OM)();if(e&&e.data){const a=T(e.data);q((e=>({...e,yearOfExperience:a})))}}catch(e){q((e=>({...e,yearOfExperience:[]})))}}()}function C(e){y(p.getFieldsValue(),k,e),p.submit()}return(0,j.useEffect)((()=>(I(),()=>{q({department:[],workingTime:[],yearOfExperience:[],location:[]})})),[]),(0,j.useEffect)((()=>{if(x){var e;const a=b()(null===x||void 0===x?void 0:x.startDate,h),t=b()(null===x||void 0===x?void 0:x.endDate,h),r=null===(e=x.skills)||void 0===e?void 0:e.map((e=>e.skillName)),s={...x,startDate:a,endDate:t,skills:""};N(r),p.setFieldsValue(s)}return()=>{p.resetFields()}}),[x]),(0,g.jsxs)(s.A,{layout:"vertical",form:p,children:[(0,g.jsx)("h3",{className:"mb-4 font-medium",children:"Information"}),(0,g.jsxs)(n.A,{gutter:10,children:[(0,g.jsx)(l.A,{xl:{span:6},md:{span:12},children:(0,g.jsx)(s.A.Item,{name:"department",label:a("common.label.department"),rules:[{required:!0}],children:(0,g.jsx)(i.A,{style:{width:"100%"},placeholder:a("common.label.type"),options:D.department})})}),(0,g.jsx)(l.A,{xl:{span:6},md:{span:12},children:(0,g.jsx)(s.A.Item,{name:"jobName",label:a("common.label.jobName"),rules:[{required:!0}],className:"my-0",children:(0,g.jsx)(o.A,{placeholder:a("common.label.jobName")})})}),(0,g.jsx)(l.A,{xl:{span:6},md:{span:12},children:(0,g.jsx)(s.A.Item,{name:"workingTime",label:a("form.jobs.label.workingTime"),rules:[{required:!0}],children:(0,g.jsx)(i.A,{placeholder:a("common.label.type"),options:D.workingTime})})}),(0,g.jsx)(l.A,{xl:{span:6},md:{span:12},children:(0,g.jsx)(s.A.Item,{name:"city",label:a("form.jobs.label.cityName"),children:(0,g.jsx)(i.A,{placeholder:a("form.jobs.label.cityName"),options:D.location})})}),(0,g.jsx)(l.A,{xl:{span:6},md:{span:12}})]}),(0,g.jsxs)(n.A,{gutter:10,children:[(0,g.jsx)(l.A,{xl:{span:6},md:{span:12},children:(0,g.jsx)(s.A.Item,{name:"experience",label:a("form.jobs.label.experience"),rules:[{required:!0}],children:(0,g.jsx)(i.A,{placeholder:a("common.label.type"),options:D.yearOfExperience})})}),(0,g.jsx)(l.A,{xl:{span:6},md:{span:12},children:(0,g.jsx)(s.A.Item,{name:"startDate",label:a("form.jobs.label.startDate"),rules:[{required:!0}],children:(0,g.jsx)(c.A,{placeholder:a("form.jobs.label.startDate_placeholder"),format:h,maxDate:b()(p.getFieldValue("endDate"))})})}),(0,g.jsx)(l.A,{xl:{span:6},md:{span:12},children:(0,g.jsx)(s.A.Item,{name:"endDate",label:a("form.jobs.label.endDate"),rules:[{required:!0}],children:(0,g.jsx)(c.A,{placeholder:a("form.jobs.label.endDate_placeholder"),format:h,minDate:b()(p.getFieldValue("startDate"))})})}),(0,g.jsx)(l.A,{xl:{span:6},md:{span:12},children:(0,g.jsx)(s.A.Item,{name:"budget",label:a("form.jobs.label.budget"),rules:[{required:!0}],children:(0,g.jsx)(o.A,{placeholder:a("form.jobs.label.budget")})})})]}),(0,g.jsx)(n.A,{gutter:10,children:(0,g.jsxs)(l.A,{xl:{span:12},md:{span:24},children:[(0,g.jsx)(s.A.Item,{name:"skills",label:a("common.label.skills"),rules:[{required:0===k.length}],className:"my-0",children:(0,g.jsx)(o.A,{placeholder:a("common.label.skills"),onKeyDown:function(e){if("Enter"===e.key){if(e.preventDefault(),!e.target.value||!e.target.value.trim()||k.includes(e.target.value))return;N((a=>[...a,e.target.value.trim()])),p.setFieldsValue({skills:""})}}})}),(0,g.jsx)("div",{className:"skills my-3",children:k&&(null===k||void 0===k?void 0:k.map(((e,a)=>(0,g.jsx)(d.A,{className:"custom-tag my-1",children:(0,g.jsxs)("span",{children:[e,(0,g.jsx)("span",{className:"close-icon ml-2",onClick:()=>{!function(e){const a=k.filter((a=>a!==e));N(a)}(e)},children:(0,g.jsx)(r.A,{width:8,height:8,className:"cursor-pointer"})})]})},a))))})]})}),(0,g.jsx)(s.A.Item,{name:"description",label:a("form.jobs.label.description"),rules:[{required:!0}],children:(0,g.jsx)(o.A.TextArea,{placeholder:a("form.jobs.label.description"),showCount:!0,rows:4,maxLength:100})}),(0,g.jsx)(s.A.Item,{name:"requirement",label:a("form.jobs.label.requirement"),rules:[{required:!0}],children:(0,g.jsx)(o.A.TextArea,{placeholder:a("form.jobs.label.requirement"),showCount:!0,rows:4,maxLength:100})}),(0,g.jsx)(s.A.Item,{name:"preferredQualifications",label:a("form.jobs.label.preferredQualifications"),children:(0,g.jsx)(o.A.TextArea,{placeholder:a("form.jobs.label.preferredQualifications"),showCount:!0,rows:4,maxLength:100})}),(0,g.jsx)(s.A.Item,{children:(0,g.jsxs)("div",{className:"w-full flex justify-end items-center gap-2 mt-6",children:[(0,g.jsx)(m.Ay,{onClick:()=>t(-1),className:"h-10 w-52",children:a("common.label.cancel")}),x&&(0,g.jsx)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white h-10 w-52",onClick:()=>C("duplicate"),disabled:v,children:a("common.label.duplicate")}),(0,g.jsx)(m.Ay,{className:"h-10 w-52",type:"primary",danger:!0,onClick:()=>C(),disabled:v,children:w||a("common.label.create")})]})})]})}},8210:(e,a,t)=>{t.d(a,{$:()=>r,N:()=>s});const r={Token:"Token",RefreshToken:"RefreshToken"},s="https://api.home-page-javis.codeaplha.biz/api"},9828:(e,a,t)=>{t.d(a,{A:()=>s});var r=t(3230);const s=function(e,a){return r.Ay.open({type:e,message:a,duration:1})}},6025:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var r=t(7626),s=t(5240),n=t(3554),l=t(446),i=t.n(l),o=t(9828),c=t(5043),d=t(4117),m=t(3216),u=t(579);const p=()=>{const[e,a]=(0,c.useState)(!1),{t:t}=(0,d.Bd)(),l=(0,m.Zp)();return(0,u.jsxs)("div",{className:"h-full",children:[(0,u.jsx)("div",{className:"h-16 bg-white w-full",children:(0,u.jsx)("div",{className:"flex h-full flex-row justify-between items-center px-6",children:(0,u.jsx)("div",{className:"text-xl font-bold",children:t("page.jobs.titleCreate")})})}),(0,u.jsx)("div",{className:"mt-4 mb-12 mx-7 rounded-2xl p-4 bg-white",children:(0,u.jsx)(s.A,{isProcess:e,onSubmit:async(e,t)=>{try{a(!0);const s={jobName:e.jobName,workingTime:e.workingTime,city:e.city,experience:e.experience,startDate:i()(e.startDate).format("YYYY-MM-DD"),endDate:i()(e.endDate).format("YYYY-MM-DD"),budget:e.budget&&isNaN(e.budget)?0:Number(e.budget),requirement:e.requirement,description:e.description,department:e.department,skills:t},c=await(0,r._S)(s);c&&"SUCCESS"===c.code?((0,o.A)("success","Create successfully"),l(n.Ay.Jobs)):(0,o.A)("error",c.message)}catch(s){(0,o.A)("error",s.message)}finally{a(!1)}}})})]})}}}]);
//# sourceMappingURL=25.799c899b.chunk.js.map